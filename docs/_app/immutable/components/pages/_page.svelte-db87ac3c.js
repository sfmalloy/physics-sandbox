var rt=Object.defineProperty;var ct=(s,t,e)=>t in s?rt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var f=(s,t,e)=>(ct(s,typeof t!="symbol"?t+"":t,e),e);import{S as it,i as at,s as nt,k as y,q as A,a as M,l as p,m as w,r as D,h as g,c as k,n as c,b as lt,G as _,I as z,J as O,u as H,B as J,K as ut,L as dt,M as C,N as K,w as X,x as Q,y as W,O as mt,P as Y,f as Z,t as $,z as tt,o as ft}from"../../chunks/index-93b7b2ee.js";class R{constructor(t,e){f(this,"x");f(this,"y");this.x=t,this.y=e}}class _t{constructor(t,e,l=0,u="blue"){f(this,"x");f(this,"y");f(this,"w");f(this,"h");f(this,"rotation");f(this,"color");f(this,"velocity");this.x=t.x,this.y=t.y,this.w=e.x,this.h=e.y,this.rotation=l,this.velocity=new R(0,0)}update(t){this.x+=this.velocity.x*t,this.y+=this.velocity.y*t}}const L=2640,N=1e-45;class et{constructor(t,e,l=1,u=1e3){f(this,"ball");f(this,"maxVelocity");f(this,"radius");f(this,"context");f(this,"damping");this.ball=new _t(t,new R(50,50)),this.ball.color="blue",this.radius=this.ball.h/2,this.maxVelocity=-L*Math.sqrt(2*this.ball.y/L),this.context=e,this.ball.velocity.x=u,this.damping=l}update(t){this.ball.velocity.y+=L*t,this.context.canvas.height-this.radius-this.ball.y<=N&&(this.maxVelocity*=this.damping,this.ball.velocity.y=this.maxVelocity,this.ball.velocity.x*=this.damping),this.context.canvas.width-this.radius-this.ball.x<=N&&(this.ball.velocity.x*=-1,this.ball.velocity.x*=this.damping),this.ball.x-this.radius<=N&&(this.ball.velocity.x*=-1,this.ball.velocity.x*=this.damping),this.ball.update(t),this.ball.y=Math.min(this.ball.y,this.context.canvas.height-this.radius),this.ball.x=Math.min(this.context.canvas.width-this.radius,Math.max(this.radius,this.ball.x))}draw(){this.context.fillStyle=this.ball.color,this.context.beginPath(),this.context.arc(this.ball.x,this.ball.y,this.radius,0,2*Math.PI),this.context.fill()}}class bt{constructor(t){f(this,"demo");f(this,"context");f(this,"time");this.context=t,this.time=0,this.start()}setDemo(t){this.demo=t}start(){this.draw(),window.requestAnimationFrame(t=>{this.time=t/1e3,this.update(t/1e3)})}update(t){this.demo&&this.demo.update(t),this.draw(),window.requestAnimationFrame(e=>{e/=1e3,this.update(e-this.time),this.time=e})}draw(){this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height),this.context.fillStyle="orange",this.context.fillRect(0,0,this.context.canvas.width,this.context.canvas.height),this.demo?this.demo.draw():(this.context.fillStyle="black",this.context.font='24px "Fira Sans"',this.context.textAlign="center",this.context.fillText("Press 'R' or the 'Start' button to start",this.context.canvas.width/2,50))}}function vt(s){let t,e,l,u,h,o,a,n,d;return{c(){t=y("div"),e=y("label"),l=A(s[2]),u=A(": "),h=A(s[0]),o=M(),a=y("input"),this.h()},l(i){t=p(i,"DIV",{class:!0});var r=w(t);e=p(r,"LABEL",{for:!0});var b=w(e);l=D(b,s[2]),u=D(b,": "),h=D(b,s[0]),b.forEach(g),o=k(r),a=p(r,"INPUT",{type:!0,min:!0,max:!0,step:!0,name:!0}),r.forEach(g),this.h()},h(){c(e,"for",s[1]),c(a,"type","range"),c(a,"min",s[3]),c(a,"max",s[4]),c(a,"step",s[5]),c(a,"name",s[1]),c(t,"class","svelte-1aa3rej")},m(i,r){lt(i,t,r),_(t,e),_(e,l),_(e,u),_(e,h),_(t,o),_(t,a),z(a,s[0]),n||(d=[O(a,"change",s[6]),O(a,"input",s[6])],n=!0)},p(i,[r]){r&4&&H(l,i[2]),r&1&&H(h,i[0]),r&2&&c(e,"for",i[1]),r&8&&c(a,"min",i[3]),r&16&&c(a,"max",i[4]),r&32&&c(a,"step",i[5]),r&2&&c(a,"name",i[1]),r&1&&z(a,i[0])},i:J,o:J,d(i){i&&g(t),n=!1,ut(d)}}}function gt(s,t,e){let{name:l}=t,{label:u}=t,{min:h}=t,{max:o}=t,{step:a}=t,{value:n}=t;function d(){n=dt(this.value),e(0,n)}return s.$$set=i=>{"name"in i&&e(1,l=i.name),"label"in i&&e(2,u=i.label),"min"in i&&e(3,h=i.min),"max"in i&&e(4,o=i.max),"step"in i&&e(5,a=i.step),"value"in i&&e(0,n=i.value)},[n,l,u,h,o,a,d]}class st extends it{constructor(t){super(),at(this,t,gt,vt,nt,{name:1,label:2,min:3,max:4,step:5,value:0})}}function xt(s){let t,e,l,u,h,o,a,n,d,i,r,b,V,v,S,B,q,F,j;function ht(m){s[5](m)}let G={name:"bounce",label:"Bounce",min:0,max:1,step:.01};s[1]!==void 0&&(G.value=s[1]),d=new st({props:G}),C.push(()=>K(d,"value",ht));function ot(m){s[6](m)}let T={name:"x-speed",label:"X Speed",min:0,max:20,step:.1};return s[0]!==void 0&&(T.value=s[0]),b=new st({props:T}),C.push(()=>K(b,"value",ot)),{c(){t=y("div"),e=y("h1"),l=A("Physics Sandbox"),u=M(),h=y("div"),o=y("canvas"),a=M(),n=y("form"),X(d.$$.fragment),r=M(),X(b.$$.fragment),v=M(),S=y("button"),B=A("Start"),this.h()},l(m){t=p(m,"DIV",{id:!0,class:!0});var x=w(t);e=p(x,"H1",{class:!0});var I=w(e);l=D(I,"Physics Sandbox"),I.forEach(g),u=k(x),h=p(x,"DIV",{id:!0});var E=w(h);o=p(E,"CANVAS",{width:!0,height:!0}),w(o).forEach(g),a=k(E),n=p(E,"FORM",{class:!0});var P=w(n);Q(d.$$.fragment,P),r=k(P),Q(b.$$.fragment,P),v=k(P),S=p(P,"BUTTON",{type:!0,class:!0});var U=w(S);B=D(U,"Start"),U.forEach(g),P.forEach(g),E.forEach(g),x.forEach(g),this.h()},h(){c(e,"class","svelte-1gth2bt"),c(o,"width",500),c(o,"height",500),c(S,"type","submit"),c(S,"class","svelte-1gth2bt"),c(n,"class","svelte-1gth2bt"),c(h,"id","game"),c(t,"id","content"),c(t,"class","svelte-1gth2bt")},m(m,x){lt(m,t,x),_(t,e),_(e,l),_(t,u),_(t,h),_(h,o),s[4](o),_(h,a),_(h,n),W(d,n,null),_(n,r),W(b,n,null),_(n,v),_(n,S),_(S,B),q=!0,F||(j=O(n,"submit",mt(s[3])),F=!0)},p(m,[x]){const I={};!i&&x&2&&(i=!0,I.value=m[1],Y(()=>i=!1)),d.$set(I);const E={};!V&&x&1&&(V=!0,E.value=m[0],Y(()=>V=!1)),b.$set(E)},i(m){q||(Z(d.$$.fragment,m),Z(b.$$.fragment,m),q=!0)},o(m){$(d.$$.fragment,m),$(b.$$.fragment,m),q=!1},d(m){m&&g(t),s[4](null),tt(d),tt(b),F=!1,j()}}}function yt(s,t,e){let l=4,u=1,h=1,o,a,n,d;ft(()=>{n=new R(o.width/2,o.height/2),d=o.getContext("2d"),a=new bt(d),window.onkeydown=v=>{v.key.toLowerCase()==="r"&&(a.setDemo(new et(n,d,u,h*l*250)),h*=-1)}});const i=()=>{a.setDemo(new et(n,d,u,h*l*250)),h*=-1};function r(v){C[v?"unshift":"push"](()=>{o=v,e(2,o)})}function b(v){u=v,e(1,u)}function V(v){l=v,e(0,l)}return[l,u,o,i,r,b,V]}class St extends it{constructor(t){super(),at(this,t,yt,xt,nt,{})}}export{St as default};
